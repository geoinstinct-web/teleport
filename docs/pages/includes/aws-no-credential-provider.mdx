### No credential providers error

If you see the error `NoCredentialProviders: no valid providers in chain` in {{service}} Service logs then Teleport
is not detecting the required credentials to connect via AWS IAM permissions. Check whether
the credentials or security role has been applied in the machine running the Teleport {{service}} Service.

When running on EKS, this error may occur if the Teleport {{service}} Service
cannot access IMDSv2 when PUT requests hop limit on the worker node instance is
set to 1. You can check the value of `HttpPutResponseHopLimit` by running
command [`aws ec2
describe-instances`](https://docs.aws.amazon.com/cli/latest/reference/ec2/describe-instances.html),
and you can change the value with command with
[`modify-instance-metadata-options`](https://docs.aws.amazon.com/cli/latest/reference/ec2/modify-instance-metadata-options.html).
More details see [IMDSv2 support for
EKS](https://aws.amazon.com/about-aws/whats-new/2020/08/amazon-eks-supports-ec2-instance-metadata-service-v2/)
and [EKS best
practices](https://aws.github.io/aws-eks-best-practices/security/docs/iam/#when-your-application-needs-access-to-imds-use-imdsv2-and-increase-the-hop-limit-on-ec2-instances-to-2).
