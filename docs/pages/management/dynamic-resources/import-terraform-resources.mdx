---
title: Import Teleport Resources into Terraform
description: Describes how to import existing Teleport resources using the Teleport Terraform provider
---

If you want to use Terraform to manage Teleport dynamic resources, but have
already created resources with a tool like `tctl`, you can automatically
generate Terraform configuration for them. This guide shows you import Teleport
resource into your Terraform project.

## Prerequisites

- The Teleport Terraform provider. Read the [Terraform provider getting started
  guide](./terraform-provider.mdx) for how to set up Terraform to manage
  Teleport dynamic resources. This guide assumes that you have set up a root
  Terraform module for Teleport on your workstation and started `tbot` to to
  retrieve credentials for the provider.

- Terraform version `v1.5.0` or above.

## Import a Teleport resource into Terraform

To generate Terraform configuration by importing an existing Teleport resource:

1. On your workstation, navigate to your root Teleport Terraform module.

1. Open a file in your text editor to configure Terraform imports. To keep your
   configuration tidy, open a new file called `imports.tf`.

1. Add an `import` block to `imports.tf`. Use the `to` field to indicate the
   name of the resource you want to generate configuration for in Terraform. The
   following example imports a Teleport role called `myrole`:

   ```hcl
   import {
     to = teleport_role.myrole
   }
   ```

1. Retrieve the ID of the resource. The method to use depends on the resource
   type. See the [table below](#resource-ids) for how to obtain an ID for each
   resource. The ID is either the value of another field within the resource or
   a constant value such as `auth_preference`.

   For example, the `teleport_role` resource uses the role's `metadata.name`
   field for its ID. To find all possible role IDs, run the following command:

   ```code
   $ tctl get roles --format json | jq '.[].metadata.name'
   ```

1. In the `import` block, assign the `id` field to the resource ID you retrieved
   earlier. For example, to import a Teleport role with a `metadata.name` of
   `myrole`, add the following:

   ```diff
     import {
       to = teleport_role.myrole
   +   id = "myrole"
     }
   ```

1. Generate a resource configuration

   ```code
   $ terraform plan -generate-config-out=imported-resources.tf
   ```

1. Inspect the resulting file, `imported-resources.tf`. If the new `resource`
   block looks correct, you can check the file into source control.

## Resource IDs

The Teleport Terraform provider uses two possible methods to
define the ID of a resource:

- Using another field within the resource, such as `metadata.name` or
  `metadata.id`
- Using a constant value such as `cluster_networking_config`

The following table indicates how the Teleport Terraform provider defines the ID
of each available Teleport resource:

| Resource                              | How to obtain the ID                |
|---------------------------------------|-------------------------------------|
| `teleport_app`                        | Use `metadata.name`                 |
| `teleport_auth_preference`            | Always `auth_preference`            |
| `teleport_cluster_maintenance_config` | Always `cluster_maintenance_config` |
| `teleport_cluster_networking_config`  | Always `cluster_networking_config`  |
| `teleport_database`                   | Use `metadata.name`                 |
| `teleport_github_connector`           | Use `metadata.name`                 |
| `teleport_oidc_connector`             | Use `metadata.name`                 |
| `teleport_saml_connector`             | Use `metadata.name`                 |
| `teleport_provision_token`            | Use `metadata.id`                   |
| `teleport_role`                       | Use `metadata.name`                 |
| `teleport_session_recording_config`   | Always `session_recording_config`   |
| `teleport_trusted_cluster`            | Use `metadata.name`                 |
| `teleport_user`                       | Use `metadata.name`                 |
| `teleport_login_rule`                 | Use `metadata.name`                 |
| `teleport_device_trust`               | Use `metadata.name`                 |
| `teleport_okta_import_rule`           | Use `metadata.name`                 |
| `teleport_access_list`                | Use `metadata.name`                 |

## Next steps

Read the [Terraform provider reference](../../reference/terraform-provider.mdx)
for a comprehensive description of Teleport resources that you can manage with
Terraform.
