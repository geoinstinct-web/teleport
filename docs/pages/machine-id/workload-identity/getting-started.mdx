---
title: Getting Started with Workload Identity
description: Getting started with Teleport Workload Identity for SPIFFE and Machine ID
---

<Admonition type="tip" title="Preview">
Teleport Workload Identity is currently in Preview. We are actively working on
improving the feature and would love to hear your feedback. We currently do
not recommend using this feature in production.
</Admonition>

## Getting Started

### Prerequisites

## Step 1/4. Configure RBAC

First, Teleport must be configured to allow the credentials produced by `tbot`
to modify the Teleport configuration. It's important to grant as few
privileges as possible in order to limit the blast radius of an attack, so in
this example we grant only the ability to create and update roles.

If you have followed a platform guide, you will have created a role and granted
the bot the ability to impersonate it already. This role just needs to have the
additional privileges added to it.

Use `tctl edit role/example-bot` to add the following rule to the role:

```yaml
spec:
  allow:
    rules:
    - resources:
      # Specify the names of resources you wish to manage with tctl.
      # For this guide, we will only manage roles.
      - role
      verbs:
      - create
      - read
      - update
      - delete
      - list
```

### Step 2/4. Configure `spiffe-workload-api` service in `tbot`

### Alternative: Issue a SVID as files using the `spiffe-svid` Output

### Step 3/4. Testing the Workload API with `tbot spiffe-inspect`

### Step 4/4. Configuring your workload to use the Workload API

Now that you know that the Workload API is behaving as expected, you can
configure your workload to use it. The exact steps will depend on the workload.

In cases where you have used the SPIFFE SDKs, you can configure the
`SPIFFE_ENDPOINT_SOCKET` environment variable to point to the socket created by
`tbot`.


## Next Steps

- [Workload Identity Overview](../workload-identity.mdx): Overview of Teleport
Workload Identity.
- [Best Practices](./best-practices.mdx): Best practices for using Workload
Identity in Production.
- Read the [configuration reference](../reference/configuration.mdx) to explore
all the available configuration options.